PROJECT(astericxx_ut CXX)
CMAKE_MINIMUM_REQUIRED(VERSION 3.6)

SET(CMAKE_CXX_STANDARD 11)

#SET(Boost_USE_STATIC_LIBS ON)
#SET(Boost_USE_MULTITHREADED OFF)

FIND_PACKAGE(Boost 1.55 COMPONENTS system filesystem REQUIRED)

SET(CMAKE_CXX_FLAGS "-O0 -g" CACHE STRING "" FORCE)

INCLUDE_DIRECTORIES(autogenerated)

# unit tests
ADD_EXECUTABLE(astericxxut main.cpp Cat34.cpp Cat48.cpp)
TARGET_LINK_LIBRARIES(astericxxut asterix)
ADD_TEST(NAME astericxxut WORKING_DIRECTORY COMMAND astericxxut --log_level=test_suite)